# Задание 9.3 — Параллельный анализ графов (Флойд–Уоршелл) с MPI

## Цель
Реализовать параллельный поиск кратчайших путей во взвешенном графе с
использованием алгоритма Флойда–Уоршелла и MPI-обмена данными:
- распределение строк матрицы смежности через `MPI_Scatter`;
- обмен обновлёнными строками между процессами через `MPI_Allgather`;
- сбор итоговой матрицы на `rank = 0` и вывод результата.

---

## Описание реализации
1. На процессе `rank = 0` создаётся матрица смежности `G` размера `N × N`.
   - диагональ равна `0`;
   - отсутствующие рёбра задаются как `INF`;
   - рёбра добавляются случайно, веса — случайные положительные.
2. Матрица распределяется по строкам между процессами с помощью `MPI_Scatter`.
   Если `N` не делится на число процессов, добавляются “пустые” строки (padding),
   чтобы каждому процессу досталось одинаковое число строк.
3. Алгоритм Флойда–Уоршелла выполняется итерациями по `k`:
   - каждый процесс обновляет только свои строки матрицы;
   - после обновления выполняется `MPI_Allgather`, чтобы все процессы получили
     актуальную версию матрицы для следующей итерации.
4. После завершения итераций итоговая матрица собирается на `rank = 0`
   через `MPI_Gather`.  
   Чтобы вывод не был слишком большим, матрица печатается полностью только при
   `N <= 16`, иначе выводятся несколько значений для проверки.

---

## Результаты запусков

### N = 16
- MPI processes = `4`
- Итоговая матрица кратчайших путей выведена полностью:

---

### N = 32
- MPI processes = `4`
- Выведены контрольные значения:
  - `d[0][1] = 14`
  - `d[0][N-1] = 14`

---

### N = 64
- MPI processes = `4`
- Выведены контрольные значения:
  - `d[0][1] = 13`
  - `d[0][N-1] = 4`

---

## Анализ
- Использование `MPI_Allgather` после каждой итерации `k` обеспечивает синхронизацию
  данных: все процессы получают обновлённые строки и могут корректно выполнять
  следующий шаг алгоритма.
- Вывод полной матрицы для `N = 16` демонстрирует итоговую матрицу кратчайших путей.
- Наличие `INF` в матрице означает, что между некоторыми вершинами путь отсутствует
  (граф может быть несвязным), что является нормальным для случайной генерации.
- Для `N = 32` и `N = 64` выводятся отдельные элементы матрицы как быстрый способ
  контроля корректности без большого вывода.

---

## Вывод
Программа корректно реализует параллельный алгоритм Флойда–Уоршелла с MPI,
используя:
- `MPI_Scatter` для распределения строк,
- `MPI_Allgather` для обмена обновлёнными строками на каждой итерации,
- `MPI_Gather` для финального сбора результата на `rank = 0`.

Тестирование на размерах `N = 16`, `32`, `64` подтвердило работоспособность
и корректность распределённого подхода.
