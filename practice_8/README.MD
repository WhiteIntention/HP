# Лабораторная работа 8 — Гибридные вычисления CPU + GPU

В данной лабораторной работе была реализована и проанализирована обработка
массива данных с использованием трёх подходов:
- обработка на **CPU с использованием OpenMP**;
- обработка на **GPU с использованием CUDA**;
- **гибридная обработка**, при которой вычисления распределяются между CPU и GPU.

Цель работы — изучить принципы гибридных вычислений, оценить влияние передачи
данных и определить условия, при которых гибридный подход является
целесообразным.

---

## Выводы

### В каких случаях гибридный подход эффективен?
Гибридный подход наиболее эффективен в задачах, где:
- вычисления на GPU значительно более затратны, чем передача данных;
- существует возможность выполнять вычисления на CPU и GPU параллельно;
- объём данных большой, а вычислительная сложность операций высокая;
- нагрузка между CPU и GPU распределена сбалансированно.

Для простых операций (например, умножение элементов массива на константу)
гибридный подход не даёт выигрыша из-за доминирования накладных расходов.

---

### Какие факторы влияют на производительность гибридных вычислений?
На производительность гибридных приложений влияют:
- объём передаваемых данных между CPU и GPU;
- стоимость операций копирования Host ↔ Device;
- вычислительная сложность GPU-части задачи;
- эффективность использования параллелизма на CPU (количество потоков OpenMP);
- балансировка нагрузки между CPU и GPU;
- использование асинхронных операций и перекрытие вычислений и передачи данных;
- характеристики аппаратной платформы (CPU, GPU, пропускная способность памяти).

---

### Как можно оптимизировать передачу данных между CPU и GPU?
Основные способы оптимизации передачи данных:
- использование **pinned (page-locked) memory** на стороне CPU;
- уменьшение количества копирований данных;
- передача данных крупными блоками;
- использование асинхронных операций (`cudaMemcpyAsync`);
- перекрытие передачи данных и вычислений с помощью CUDA streams;
- хранение данных на GPU как можно дольше, если используется несколько ядер.

---

## Контрольные вопросы

### 1. Какие преимущества предоставляют гибридные вычисления?
Гибридные вычисления позволяют:
- одновременно использовать ресурсы CPU и GPU;
- повысить общую производительность приложения;
- гибко распределять вычисления в зависимости от их характера;
- более эффективно использовать доступное оборудование.

---

### 2. Как минимизировать накладные расходы при передаче данных между CPU и GPU?
Накладные расходы можно снизить за счёт:
- использования pinned memory;
- асинхронных копирований и CUDA streams;
- сокращения числа операций передачи данных;
- перекрытия передачи данных и вычислений.

---

### 3. Какие задачи лучше выполнять на CPU, а какие — на GPU?
- **CPU** лучше подходит для:
  - задач с небольшой степенью параллелизма;
  - сложной логики и ветвлений;
  - работы с небольшими объёмами данных.
- **GPU** эффективен для:
  - массовых параллельных вычислений;
  - операций над большими массивами данных;
  - вычислительно интенсивных задач с простой логикой.

---

### 4. Как можно улучшить производительность гибридного приложения?
Производительность гибридного приложения можно повысить, если:
- правильно выбрать долю работы для CPU и GPU;
- использовать оптимальные размеры блоков и сеток CUDA;
- минимизировать синхронизации;
- эффективно использовать память (shared, pinned);
- перекрывать вычисления и передачу данных;
- адаптировать стратегию распределения нагрузки под конкретное оборудование.

---

## Итог
Лабораторная работа показала, что гибридные вычисления являются мощным
инструментом повышения производительности, однако требуют тщательного анализа
характера задачи и грамотной оптимизации передачи данных и балансировки
нагрузки между CPU и GPU.
